{"version":3,"file":"AIChatWidget.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_reactMarkdown","_hooks","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","AIChatWidget","_ref","chatAppData","title","placeholder","apiUrl","disabled","sendMessage","sendMessageStream","isLoading","error","useAIChat","open","setOpen","useState","busy","setBusy","lines","setLines","streamingMessageId","setStreamingMessageId","hasFirstAIResponse","setHasFirstAIResponse","inputRef","useRef","inputValue","setInputValue","messagesEndRef","canSend","useMemo","markdownComponents","h1","_ref2","children","createElement","className","h2","_ref3","h3","_ref4","h4","_ref5","h5","_ref6","h6","_ref7","code","_ref8","ul","_ref9","ol","_ref0","li","_ref1","p","_ref10","scrollToBottom","current","scrollIntoView","behavior","useEffect","append","text","role","arguments","length","undefined","id","messageId","String","Date","now","Math","random","prev","updateMessage","map","line","formatResponse","res","message","metadata","JSON","stringify","formatError","detail","handleSend","v","trim","assistantMessageId","streamedText","chunk","errorMessage","handleKeyDown","key","shiftKey","preventDefault","handleInputChange","target","value","textarea","style","height","min","scrollHeight","onClick","components","ref","onKeyDown","onChange","rows"],"sources":["../src/AIChatWidget.jsx"],"sourcesContent":["import React, { useMemo, useRef, useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport ReactMarkdown from 'react-markdown';\nimport { useAIChat } from './data/hooks';\nimport './AIChatWidget.css';\n\n/**\n * AIChatWidget\n * - Clean and modern AI chat component\n * - Simple but professional design\n */\nexport default function AIChatWidget({\n  chatAppData = {},\n}) {\n  const {\n    title = 'AI Assistant',\n    placeholder = 'Ask me anything‚Ä¶',\n    apiUrl = '/api/ai-assistant/chat',\n    disabled = false,\n  } = chatAppData;\n\n  const { sendMessage, sendMessageStream, isLoading, error } = useAIChat(apiUrl);\n  const [open, setOpen] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const [lines, setLines] = useState([]);\n  const [streamingMessageId, setStreamingMessageId] = useState(null);\n  const [hasFirstAIResponse, setHasFirstAIResponse] = useState(false);\n  const inputRef = useRef(null);\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n\n  const canSend = useMemo(() => !disabled && !busy, [disabled, busy]);\n\n  // Custom components for ReactMarkdown\n  const markdownComponents = {\n    // Ensure headings have proper styling\n    h1: ({ children }) => <h1 className=\"markdown-h1\">{children}</h1>,\n    h2: ({ children }) => <h2 className=\"markdown-h2\">{children}</h2>,\n    h3: ({ children }) => <h3 className=\"markdown-h3\">{children}</h3>,\n    h4: ({ children }) => <h4 className=\"markdown-h4\">{children}</h4>,\n    h5: ({ children }) => <h5 className=\"markdown-h5\">{children}</h5>,\n    h6: ({ children }) => <h6 className=\"markdown-h6\">{children}</h6>,\n    // Style code blocks\n    code: ({ children, className }) => (\n      <code className={`markdown-code ${className || ''}`}>{children}</code>\n    ),\n    // Style lists\n    ul: ({ children }) => <ul className=\"markdown-ul\">{children}</ul>,\n    ol: ({ children }) => <ol className=\"markdown-ol\">{children}</ol>,\n    li: ({ children }) => <li className=\"markdown-li\">{children}</li>,\n    // Style paragraphs\n    p: ({ children }) => <p className=\"markdown-p\">{children}</p>,\n  };\n\n  // Auto-scroll to bottom when new messages are added\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [lines, busy]);\n\n  function append(text, role = 'system', id = null) {\n    const messageId = id || String(Date.now() + Math.random());\n    setLines(prev => [...prev, { id: messageId, role, text }]);\n    return messageId;\n  }\n\n  function updateMessage(id, text) {\n    setLines(prev => prev.map(line => \n      line.id === id ? { ...line, text } : line\n    ));\n  }\n\n  function formatResponse(res) {\n    if (typeof res === 'string') {\n      return res;\n    }\n    \n    // Handle structured response with message field\n    if (res?.message) {\n      return res.message;\n    }\n    \n    // Handle error responses with metadata\n    if (res?.metadata?.error) {\n      return res.metadata.error;\n    }\n    \n    // Fallback to text field or stringify\n    return res?.text || JSON.stringify(res);\n  }\n\n  function formatError(error) {\n    // Try to extract meaningful error message\n    if (typeof error === 'string') {\n      return error;\n    }\n    \n    if (error?.message) {\n      return error.message;\n    }\n    \n    if (error?.detail) {\n      return error.detail;\n    }\n    \n    return 'Something went wrong. Please try again.';\n  }\n\n  async function handleSend() {\n    const v = inputValue.trim();\n    if (!v || !canSend) return;\n    \n    // Add user message\n    append(v, 'user');\n    setInputValue('');\n    setBusy(true);\n    \n    try {\n      // Try streaming first, fallback to regular if not available\n      if (sendMessageStream) {\n        const assistantMessageId = append('', 'assistant');\n        setStreamingMessageId(assistantMessageId);\n        let streamedText = '';\n        \n        await sendMessageStream(v, (chunk) => {\n          streamedText += chunk;\n          updateMessage(assistantMessageId, streamedText);\n        });\n        \n        setStreamingMessageId(null);\n        setHasFirstAIResponse(true);\n      } else {\n        // Fallback to regular message\n        const res = await sendMessage(v);\n        const text = formatResponse(res);\n        append(text, 'assistant');\n        setHasFirstAIResponse(true);\n      }\n    } catch (e) {\n      const errorMessage = formatError(e);\n      append(errorMessage, 'error');\n      setStreamingMessageId(null);\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  function handleKeyDown(e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  }\n\n  function handleInputChange(e) {\n    setInputValue(e.target.value);\n    // Auto-resize textarea\n    const textarea = e.target;\n    textarea.style.height = 'auto';\n    textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n  }\n\n  if (!open) {\n    return (\n      <div className=\"ai-chat-widget-fab\">\n        <button\n          className=\"ai-chat-widget-fab-button\"\n          onClick={() => setOpen(true)}\n          title={title}\n          aria-label={`Open ${title}`}\n        >\n          ü§ñ\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"ai-chat-widget-container\">\n      <div className=\"ai-chat-widget\">\n        <div className=\"ai-chat-widget-header\">\n          <div className=\"ai-chat-widget-title-section\">\n            <div className=\"ai-chat-widget-icon\">ü§ñ</div>\n            <h3 className=\"ai-chat-widget-title\">{title}</h3>\n          </div>\n          <button\n            className=\"ai-chat-widget-close\"\n            onClick={() => setOpen(false)}\n            title=\"Close\"\n            aria-label=\"Close chat\"\n          >\n            ‚úï\n          </button>\n        </div>\n        \n        <div className=\"ai-chat-widget-body\">\n          {lines.length === 0 && (\n            <div className=\"ai-chat-widget-welcome\">\n              <div className=\"welcome-icon\">üëã</div>\n              <p>Hi! I'm here to help. Ask me anything!</p>\n            </div>\n          )}\n          {lines.map(line => (\n            <div key={line.id} className={`ai-chat-widget-line ai-chat-widget-line-${line.role}`}>\n              <div className=\"message-content\">\n                <ReactMarkdown components={markdownComponents}>\n                  {line.text || ''}\n                </ReactMarkdown>\n              </div>\n              {streamingMessageId === line.id && (\n                <span className=\"streaming-cursor\">‚ñä</span>\n              )}\n            </div>\n          ))}\n          {busy && !streamingMessageId && (\n            <div className=\"ai-chat-widget-line ai-chat-widget-line-assistant ai-chat-widget-typing\">\n              <div className=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n              Thinking...\n            </div>\n          )}\n          {hasFirstAIResponse && (\n            <div className=\"ai-chat-widget-disclaimer\">\n              <p>\n                AI can make mistakes. Please verify important information.\n              </p>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n        \n        <div className=\"ai-chat-widget-footer\">\n          {error && (\n            <div className=\"ai-chat-widget-error\">\n              {error}\n            </div>\n          )}\n          <div className=\"ai-chat-widget-input-container\">\n            <div className=\"ai-chat-widget-input-wrapper\">\n              <textarea\n                ref={inputRef}\n                className=\"ai-chat-widget-input\"\n                placeholder={placeholder}\n                disabled={!canSend}\n                onKeyDown={handleKeyDown}\n                onChange={handleInputChange}\n                value={inputValue}\n                rows={1}\n              />\n              <button\n                className={`ai-chat-widget-send ${!canSend || !inputValue.trim() ? 'disabled' : ''}`}\n                onClick={handleSend}\n                disabled={!canSend || !inputValue.trim()}\n                title=\"Send message\"\n                aria-label=\"Send message\"\n              >\n                {busy ? '‚è≥' : '‚Üë'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}