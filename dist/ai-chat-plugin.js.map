{"version":3,"file":"ai-chat-plugin.js","mappings":"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","sources":["webpack://aiChatWidget/webpack/universalModuleDefinition","webpack://aiChatWidget/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://aiChatWidget/external umd {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://aiChatWidget/./node_modules/css-loader/dist/runtime/api.js","webpack://aiChatWidget/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://aiChatWidget/./node_modules/react/cjs/react-jsx-runtime.production.js","webpack://aiChatWidget/./src/AIChatWidget.css","webpack://aiChatWidget/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://aiChatWidget/./node_modules/react/jsx-runtime.js","webpack://aiChatWidget/webpack/bootstrap","webpack://aiChatWidget/webpack/runtime/compat get default export","webpack://aiChatWidget/webpack/runtime/define property getters","webpack://aiChatWidget/webpack/runtime/hasOwnProperty shorthand","webpack://aiChatWidget/webpack/runtime/make namespace object","webpack://aiChatWidget/webpack/runtime/nonce","webpack://aiChatWidget/./src/AIChatWidget.css?3c59","webpack://aiChatWidget/./src/AIChatWidget.jsx","webpack://aiChatWidget/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aiChatWidget\", [\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aiChatWidget\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"aiChatWidget\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__33__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.aiw-root{position:fixed;right:20px;bottom:20px;z-index:2147483647}\n.aiw-fab{width:52px;height:52px;border-radius:26px;border:none;cursor:pointer;background:#1f7aec;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,.2);font-size:20px}\n.aiw-panel{position:fixed;right:84px;bottom:20px;width:320px;height:280px;background:#fff;border:1px solid #ddd;border-radius:10px;box-shadow:0 6px 24px rgba(0,0,0,.18);overflow:hidden;transform:translateY(16px);opacity:0;pointer-events:none;transition:all .18s ease}\n.aiw-open{opacity:1;transform:translateY(0);pointer-events:auto}\n.aiw-header{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #eee}\n.aiw-close{border:none;background:transparent;cursor:pointer;font-size:18px}\n.aiw-output{padding:8px 10px;height:160px;overflow-y:auto;white-space:pre-wrap;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-size:14px}\n.aiw-input{padding:8px 10px}\n.aiw-input textarea{width:100%;height:60px;resize:vertical;font-size:14px;padding:8px}\n.aiw-controls{display:flex;align-items:center;justify-content:flex-end;margin-top:6px}\n.aiw-btn{padding:8px 12px;background:#555;color:#fff;border:none;border-radius:6px;cursor:pointer}\n.aiw-primary{background:#1f7aec}\n.aiw-line{margin:4px 0}\n.aiw-user{color:#222}\n.aiw-assistant{color:#0b5}\n.aiw-error{color:#b00}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/AIChatWidget.css\"],\"names\":[],\"mappings\":\"AAAA,UAAU,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,kBAAkB;AAClE,SAAS,UAAU,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,cAAc,CAAC,kBAAkB,CAAC,UAAU,CAAC,oCAAoC,CAAC,cAAc;AAC/J,WAAW,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,qCAAqC,CAAC,eAAe,CAAC,0BAA0B,CAAC,SAAS,CAAC,mBAAmB,CAAC,wBAAwB;AAC1Q,UAAU,SAAS,CAAC,uBAAuB,CAAC,mBAAmB;AAC/D,YAAY,YAAY,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,gBAAgB,CAAC,4BAA4B;AACvH,WAAW,WAAW,CAAC,sBAAsB,CAAC,cAAc,CAAC,cAAc;AAC3E,YAAY,gBAAgB,CAAC,YAAY,CAAC,eAAe,CAAC,oBAAoB,CAAC,oEAAoE,CAAC,cAAc;AAClK,WAAW,gBAAgB;AAC3B,oBAAoB,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,cAAc,CAAC,WAAW;AACrF,cAAc,YAAY,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,cAAc;AACrF,SAAS,gBAAgB,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,cAAc;AACjG,aAAa,kBAAkB;AAC/B,UAAU,YAAY;AACtB,UAAU,UAAU;AACpB,eAAe,UAAU;AACzB,WAAW,UAAU\",\"sourcesContent\":[\".aiw-root{position:fixed;right:20px;bottom:20px;z-index:2147483647}\\n.aiw-fab{width:52px;height:52px;border-radius:26px;border:none;cursor:pointer;background:#1f7aec;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,.2);font-size:20px}\\n.aiw-panel{position:fixed;right:84px;bottom:20px;width:320px;height:280px;background:#fff;border:1px solid #ddd;border-radius:10px;box-shadow:0 6px 24px rgba(0,0,0,.18);overflow:hidden;transform:translateY(16px);opacity:0;pointer-events:none;transition:all .18s ease}\\n.aiw-open{opacity:1;transform:translateY(0);pointer-events:auto}\\n.aiw-header{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #eee}\\n.aiw-close{border:none;background:transparent;cursor:pointer;font-size:18px}\\n.aiw-output{padding:8px 10px;height:160px;overflow-y:auto;white-space:pre-wrap;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-size:14px}\\n.aiw-input{padding:8px 10px}\\n.aiw-input textarea{width:100%;height:60px;resize:vertical;font-size:14px;padding:8px}\\n.aiw-controls{display:flex;align-items:center;justify-content:flex-end;margin-top:6px}\\n.aiw-btn{padding:8px 12px;background:#555;color:#fff;border:none;border-radius:6px;cursor:pointer}\\n.aiw-primary{background:#1f7aec}\\n.aiw-line{margin:4px 0}\\n.aiw-user{color:#222}\\n.aiw-assistant{color:#0b5}\\n.aiw-error{color:#b00}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./AIChatWidget.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./AIChatWidget.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useMemo, useRef, useState } from 'react';\nimport './AIChatWidget.css';\n\n/**\n * AIChatWidget\n * - Pure UI component.\n * - Networking is delegated via props to integrate with MFEs (e.g., authenticatedHttpClient).\n */\nexport default function AIChatWidget({\n  title = 'AI Assistant',\n  placeholder = 'Ask me anything…',\n  onSend, // async (message: string) => Promise<string | { text?: string }>\n  onStartStream, // () => { close: () => void } or () => void\n  disabled = false,\n}) {\n  const [open, setOpen] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const [lines, setLines] = useState([]);\n  const inputRef = useRef(null);\n\n  const canSend = useMemo(() => !disabled && !busy, [disabled, busy]);\n\n  function append(text, role = 'system') {\n    setLines(prev => [...prev, { id: String(prev.length + 1), role, text }]);\n  }\n\n  async function handleSend() {\n    const v = (inputRef.current?.value || '').trim();\n    if (!v || !canSend) return;\n    append(`You: ${v}`, 'user');\n    inputRef.current.value = '';\n    if (!onSend) return;\n    setBusy(true);\n    try {\n      const res = await onSend(v);\n      const text = typeof res === 'string' ? res : (res?.text ?? JSON.stringify(res));\n      append(text, 'assistant');\n    } catch (e) {\n      append(`Error: ${e?.message || String(e)}`, 'error');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  function handleStream() {\n    try {\n      const ctrl = onStartStream?.();\n      append('[stream] started');\n      // Caller should append partials by controlling parent state, or replace this with prop callback.\n      // We keep a minimal message here; advanced streaming handled by integrator.\n      if (ctrl && typeof ctrl.close === 'function') {\n        // no-op; integrator will close when done\n      }\n    } catch (e) {\n      append(`[stream] error: ${e?.message || String(e)}`, 'error');\n    }\n  }\n\n  return (\n    <div className=\"aiw-root\">\n      <button\n        type=\"button\"\n        className=\"aiw-fab\"\n        aria-label=\"Open AI Assistant\"\n        onClick={() => setOpen(o => !o)}\n        disabled={disabled}\n      >\n        ✦\n      </button>\n\n      <div className={`aiw-panel ${open ? 'aiw-open' : ''}`}>\n        <div className=\"aiw-header\">\n          <strong>{title}</strong>\n          <button type=\"button\" className=\"aiw-close\" onClick={() => setOpen(false)} aria-label=\"Close\">×</button>\n        </div>\n        <div className=\"aiw-output\" role=\"log\" aria-live=\"polite\">\n          {lines.map(l => (\n            <div key={l.id} className={`aiw-line aiw-${l.role}`}>{l.text}</div>\n          ))}\n        </div>\n        <div className=\"aiw-input\">\n          <textarea ref={inputRef} placeholder={placeholder} disabled={!canSend} />\n          <div className=\"aiw-controls\">\n            <button type=\"button\" className=\"aiw-btn aiw-primary\" onClick={handleSend} disabled={!canSend}>Send</button>\n            <button type=\"button\" className=\"aiw-btn\" onClick={handleStream} disabled={disabled}>Test Stream</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AIChatWidget from './AIChatWidget.jsx';\n\n// Helper: mount widget into a DOM container\nexport function mountAIWidget({\n  container,\n  onSend,\n  onStartStream,\n  title,\n  placeholder,\n  disabled,\n}) {\n  if (!container) return;\n  ReactDOM.render(\n    React.createElement(AIChatWidget, { onSend, onStartStream, title, placeholder, disabled }),\n    container\n  );\n}\n\n// Factory function to create a send handler with configurable API URL\nexport function createSendHandler(apiUrl) {\n  return async function(message) {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: { \n        'Content-Type': 'application/json',\n        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]')?.value || ''\n      },\n      credentials: 'include',\n      body: JSON.stringify({ message }),\n    });\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    return await response.json();\n  };\n}\n\n// Minimal default networking using fetch; MFEs should pass authenticatedHttpClient alternatives\nasync function defaultSend(message, baseUrl) {\n  const res = await fetch(`${baseUrl}/api/ai-assistant/chat`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    credentials: 'include',\n    body: JSON.stringify({ message }),\n  });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\n\nexport function initStandalone({ baseUrl = window.location.origin } = {}) {\n  // Non-plugin fallback for any page\n  let root = document.getElementById('ai-widget-root');\n  if (!root) {\n    root = document.createElement('div');\n    root.id = 'ai-widget-root';\n    document.body.appendChild(root);\n  }\n  return mountAIWidget({\n    container: root,\n    onSend: (m) => defaultSend(m, baseUrl),\n    onStartStream: () => {},\n  });\n}\n\n// Plugin bootstrap for MFEs with a plugin/slot API\nexport function initPlugin(options = {}) {\n  const api =\n    window?.PluginAPI || // potential plugin API\n    window?.openEdx?.plugin ||\n    window?.edx?.plugins ||\n    null;\n\n  const fill = (slotName, render) => {\n    // Generic slot registration if an API is available\n    if (api && typeof api.register === 'function') {\n      api.register(slotName, render);\n      return true;\n    }\n    return false;\n  };\n\n  const renderWidget = (el) => {\n    if (!el) return;\n    const baseUrl = options.baseUrl || window.location.origin;\n    mountAIWidget({\n      container: el,\n      onSend: (m) => (options.onSend ? options.onSend(m) : defaultSend(m, baseUrl)),\n      onStartStream: options.onStartStream || (() => {}),\n      title: options.title,\n      placeholder: options.placeholder,\n      disabled: options.disabled,\n    });\n  };\n\n  // Known footer slots\n  const learningFooter = 'org.openedx.frontend.layout.footer.v1';\n  const studioFooter = 'org.openedx.frontend.layout.studio_footer.v1';\n\n  const attachedToLearning = fill(learningFooter, renderWidget);\n  const attachedToStudio = fill(studioFooter, renderWidget);\n\n  if (!attachedToLearning && !attachedToStudio) {\n    // Fallback: mount globally\n    initStandalone(options);\n  }\n}\n\n// Factory to create a pre-configured widget component\nexport function createConfiguredWidget(config) {\n  return function ConfiguredAIChatWidget(props) {\n    return React.createElement(AIChatWidget, {\n      ...props,\n      onSend: config.apiUrl ? createSendHandler(config.apiUrl) : props.onSend,\n      title: config.title || props.title,\n    });\n  };\n}\n\nexport default AIChatWidget;\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__33__","styleElement","nonce","setAttribute","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","push","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","cssWithMappingToString","toString","this","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","element","createElement","setAttributes","attributes","insert","memo","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","REACT_ELEMENT_TYPE","Symbol","for","jsxProd","type","config","maybeKey","key","propName","ref","$$typeof","props","jsx","jsxs","___CSS_LOADER_EXPORT___","insertStyleElement","styleTagTransform","apply","parentNode","removeStyleElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","toStringTag","value","nc","locals","AIChatWidget","title","placeholder","onSend","onStartStream","disabled","open","setOpen","useState","busy","setBusy","lines","setLines","inputRef","useRef","canSend","useMemo","append","text","role","prev","String","_jsxs","className","children","_jsx","onClick","l","async","v","current","trim","res","message","ctrl","close","mountAIWidget","container","ReactDOM","React","createSendHandler","apiUrl","response","fetch","method","headers","credentials","body","ok","status","json","defaultSend","baseUrl","initStandalone","location","origin","getElementById","m","initPlugin","PluginAPI","openEdx","plugin","edx","plugins","fill","slotName","render","register","renderWidget","el","attachedToLearning","attachedToStudio","createConfiguredWidget"],"sourceRoot":""}