{"version":3,"file":"CourseGenerationButton.js","names":["_react","_interopRequireWildcard","require","_CourseGenerationModal","_interopRequireDefault","_hooks","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","IconWand","_ref","size","props","createElement","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","style","marginRight","verticalAlign","d","CourseGenerationButton","_ref2","buttonText","buttonIcon","buttonClassName","maxFileSizeMB","onSuccess","onError","availableModels","id","name","description","showModal","setShowModal","useState","courseId","getCourseIdFromUrl","handleSuccess","jobData","jobId","message","handleError","error","console","Fragment","className","onClick","disabled","title","React","isValidElement","isOpen","onClose"],"sources":["../src/CourseGenerationButton.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport CourseGenerationModal from './CourseGenerationModal';\nimport { getCourseIdFromUrl } from './data/hooks';\nimport './AIChatWidget.css';\n\n// Minimal SVG wand icon\nconst IconWand = ({ size = 16, ...props }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\" style={{ marginRight: 8, verticalAlign: 'text-bottom' }} {...props}>\n    <path d=\"M15 4l-1 3 3-1\" />\n    <path d=\"M6 20l8-8\" />\n    <path d=\"M4 15l3 1-1 3\" />\n    <path d=\"M18 10l2 2\" />\n  </svg>\n);\n\n/**\n * CourseGenerationButton\n * - Simple button component that opens the course generation modal\n * - Handles the modal state and callbacks\n * - Can be easily imported and used in Tutor plugin slots\n */\nexport default function CourseGenerationButton({\n  buttonText = \"Générer avec IA\",\n  buttonIcon = null,\n  buttonClassName = \"btn btn-primary\",\n  maxFileSizeMB = 50,\n  onSuccess = () => {},\n  onError = () => {},\n  availableModels = [\n    { id: 'gpt-4o', name: 'GPT-4o (Recommended)', description: 'Best quality, slower' },\n    { id: 'gpt-4o-mini', name: 'GPT-4o Mini', description: 'Faster, good quality' }\n  ]\n}) {\n  const [showModal, setShowModal] = useState(false);\n  const courseId = getCourseIdFromUrl();\n\n  const handleSuccess = (jobData) => {\n    onSuccess({\n      jobId: jobData.id,\n      message: 'Génération du cours terminée avec succès!',\n      jobData: jobData\n    });\n  };\n\n  const handleError = (error) => {\n    console.error('Erreur de génération du cours:', error);\n    onError(error);\n  };\n\n  return (\n    <>\n      <button\n        className={buttonClassName}\n        onClick={() => setShowModal(true)}\n        disabled={!courseId}\n        title={!courseId ? \"Contexte du cours requis\" : \"Générer avec IA\"}\n        aria-label=\"Générer avec IA\"\n      >\n        <span className=\"icon\" style={{ marginRight: '8px' }}>\n          {React.isValidElement(buttonIcon) ? buttonIcon : <IconWand />}\n        </span>\n        {buttonText}\n      </button>\n\n      <CourseGenerationModal\n        isOpen={showModal}\n        onClose={() => setShowModal(false)}\n        onSuccess={handleSuccess}\n        onError={handleError}\n        courseId={courseId}\n        maxFileSizeMB={maxFileSizeMB}\n        availableModels={availableModels}\n      />\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]}