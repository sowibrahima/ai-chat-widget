{"version":3,"file":"CourseGenerationModal.js","names":["_react","_interopRequireWildcard","require","_hooks","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","IconClose","_ref","size","props","createElement","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","IconSpinner","_ref2","className","style","marginRight","cx","cy","opacity","d","IconFile","_ref3","verticalAlign","IconWand","_ref4","CourseGenerationModal","_ref5","isOpen","onClose","onSuccess","onError","title","maxFileSizeMB","courseId","availableModels","id","name","description","uploadFile","createGenerationJob","getJobStatus","isLoading","error","hookError","useCourseGeneration","file","setFile","useState","instructions","setInstructions","selectedModel","setSelectedModel","isGenerating","setIsGenerating","setError","currentJob","setCurrentJob","jobProgress","setJobProgress","jobStatus","setJobStatus","handleFileChange","selectedFile","target","files","type","fileSizeMB","toFixed","useEffect","pollJob","jobData","progress_percent","status","handleClose","error_message","Error","err","console","interval","setInterval","clearInterval","handleGenerate","trim","uploadResult","course_id","job_type","pdf_file","file_id","model_config","model","provider","message","onClick","disabled","htmlFor","accept","onChange","value","map","key","rows","placeholder","maxLength","Fragment"],"sources":["../src/CourseGenerationModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCourseGeneration } from './data/hooks';\nimport './AIChatWidget.css';\n\n// Minimal SVG icons\nconst IconClose = ({ size = 18, ...props }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.8\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\" {...props}>\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n  </svg>\n);\nconst IconSpinner = ({ size = 16, ...props }) => (\n  <svg className=\"spinner\" width={size} height={size} viewBox=\"0 0 24 24\" aria-hidden=\"true\" style={{ marginRight: 8 }} {...props}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" fill=\"none\" opacity=\"0.2\" />\n    <path d=\"M22 12a10 10 0 0 1-10 10\" stroke=\"currentColor\" strokeWidth=\"3\" fill=\"none\" />\n  </svg>\n);\nconst IconFile = ({ size = 16, ...props }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\" style={{ marginRight: 6, verticalAlign: 'text-bottom' }} {...props}>\n    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\n    <path d=\"M14 2v6h6\" />\n  </svg>\n);\nconst IconWand = ({ size = 16, ...props }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\" style={{ marginRight: 8 }} {...props}>\n    <path d=\"M15 4l-1 3 3-1\" />\n    <path d=\"M6 20l8-8\" />\n    <path d=\"M4 15l3 1-1 3\" />\n    <path d=\"M18 10l2 2\" />\n  </svg>\n);\n\n/**\n * CourseGenerationModal\n * - Modal component for AI course generation from PDF\n * - Handles file upload and instruction input\n * - Can be used standalone or integrated into other components\n */\nexport default function CourseGenerationModal({\n  isOpen = false,\n  onClose = () => {},\n  onSuccess = () => {},\n  onError = () => {},\n  title = \"AI Course Generation\",\n  maxFileSizeMB = 50,\n  courseId = null,\n  availableModels = [\n    { id: 'gpt-4o', name: 'GPT-4o (Recommended)', description: 'Best quality, slower' },\n    { id: 'gpt-4o-mini', name: 'GPT-4o Mini', description: 'Faster, good quality' }\n  ]\n}) {\n  const { uploadFile, createGenerationJob, getJobStatus, isLoading, error: hookError } = useCourseGeneration();\n  const [file, setFile] = useState(null);\n  const [instructions, setInstructions] = useState('');\n  const [selectedModel, setSelectedModel] = useState(availableModels[0]?.id || 'gpt-4o');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [error, setError] = useState('');\n  const [currentJob, setCurrentJob] = useState(null);\n  const [jobProgress, setJobProgress] = useState(0);\n  const [jobStatus, setJobStatus] = useState('');\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    setError('');\n    \n    if (!selectedFile) {\n      setFile(null);\n      return;\n    }\n\n    // Validate file type\n    if (selectedFile.type !== 'application/pdf') {\n      setError('Please select a PDF file.');\n      setFile(null);\n      return;\n    }\n\n    // Validate file size\n    const fileSizeMB = selectedFile.size / (1024 * 1024);\n    if (fileSizeMB > maxFileSizeMB) {\n      setError(`File size must be less than ${maxFileSizeMB}MB. Current size: ${fileSizeMB.toFixed(1)}MB`);\n      setFile(null);\n      return;\n    }\n\n    setFile(selectedFile);\n  };\n\n  // Job polling effect\n  useEffect(() => {\n    if (!currentJob) return;\n\n    const pollJob = async () => {\n      try {\n        const jobData = await getJobStatus(currentJob.id);\n        setJobProgress(jobData.progress_percent || 0);\n        setJobStatus(jobData.status);\n\n        if (jobData.status === 'completed') {\n          setCurrentJob(null);\n          setIsGenerating(false);\n          onSuccess(jobData);\n          handleClose();\n        } else if (jobData.status === 'failed') {\n          setCurrentJob(null);\n          setIsGenerating(false);\n          setError(jobData.error_message || 'Course generation failed');\n          onError(new Error(jobData.error_message));\n        }\n      } catch (err) {\n        console.error('Error polling job:', err);\n      }\n    };\n\n    const interval = setInterval(pollJob, 2000); // Poll every 2 seconds\n    return () => clearInterval(interval);\n  }, [currentJob, getJobStatus, onSuccess, onError]);\n\n  const handleGenerate = async () => {\n    if (!file || !instructions.trim()) {\n      setError('Please select a PDF file and provide instructions.');\n      return;\n    }\n\n    if (!courseId) {\n      setError('Course ID is required for content generation.');\n      return;\n    }\n\n    setIsGenerating(true);\n    setError('');\n    setJobProgress(0);\n    setJobStatus('starting');\n\n    try {\n      // First upload the file\n      const uploadResult = await uploadFile(file);\n      \n      // Then create the generation job\n      const jobData = await createGenerationJob({\n        course_id: courseId,\n        job_type: 'course_generation',\n        instructions: instructions.trim(),\n        pdf_file: uploadResult.file_id,\n        model_config: {\n          model: selectedModel,\n          provider: 'openai'\n        }\n      });\n\n      setCurrentJob(jobData);\n      setJobStatus('processing');\n    } catch (err) {\n      setError(err.message || 'Failed to start course generation. Please try again.');\n      setIsGenerating(false);\n      onError(err);\n    }\n  };\n\n  const handleClose = () => {\n    if (!isGenerating) {\n      setFile(null);\n      setInstructions('');\n      setError('');\n      onClose();\n    }\n  };\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <div className=\"course-generation-modal-overlay\">\n      <div className=\"course-generation-modal\">\n        <div className=\"course-generation-modal-header\">\n          <h4 className=\"course-generation-modal-title\">{title}</h4>\n          <button\n            type=\"button\"\n            className=\"course-generation-modal-close\"\n            onClick={handleClose}\n            disabled={isGenerating}\n            aria-label=\"Close modal\"\n          >\n            <IconClose />\n          </button>\n        </div>\n\n        <div className=\"course-generation-modal-body\">\n          <p className=\"course-generation-modal-description\">\n            Upload a PDF document and provide instructions to generate comprehensive course content using AI.\n          </p>\n\n          {error && (\n            <div className=\"course-generation-modal-error\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"course-generation-form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"pdf-upload\" className=\"form-label\">\n                PDF Document (max {maxFileSizeMB}MB):\n              </label>\n              <input\n                id=\"pdf-upload\"\n                type=\"file\"\n                className=\"form-control\"\n                accept=\".pdf\"\n                onChange={handleFileChange}\n                disabled={isGenerating}\n              />\n              {file && (\n                <div className=\"file-info\">\n                  <span className=\"file-name\"><IconFile />{file.name}</span>\n                  <span className=\"file-size\">({(file.size / (1024 * 1024)).toFixed(1)}MB)</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"model-select\" className=\"form-label\">\n                AI Model:\n              </label>\n              <select\n                id=\"model-select\"\n                className=\"form-control\"\n                value={selectedModel}\n                onChange={(e) => setSelectedModel(e.target.value)}\n                disabled={isGenerating}\n              >\n                {availableModels.map(model => (\n                  <option key={model.id} value={model.id}>\n                    {model.name} - {model.description}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"instructions\" className=\"form-label\">\n                Generation Instructions:\n              </label>\n              <textarea\n                id=\"instructions\"\n                className=\"form-control\"\n                rows=\"4\"\n                value={instructions}\n                onChange={(e) => setInstructions(e.target.value)}\n                placeholder=\"Describe what kind of course content you want to generate. For example: 'Create a comprehensive course with modules, lessons, quizzes, and assignments based on this document. Focus on practical applications and include interactive elements.'\"\n                disabled={isGenerating}\n                maxLength={1000}\n              />\n              <div className=\"character-count\">\n                {instructions.length}/1000 characters\n              </div>\n            </div>\n\n            {isGenerating && currentJob && (\n              <div className=\"form-group\">\n                <label className=\"form-label\">Generation Progress:</label>\n                <div className=\"progress-container\">\n                  <div className=\"progress-bar\">\n                    <div \n                      className=\"progress-fill\" \n                      style={{ width: `${jobProgress}%` }}\n                    ></div>\n                  </div>\n                  <div className=\"progress-text\">\n                    {jobProgress}% - {jobStatus}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"course-generation-modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={handleClose}\n            disabled={isGenerating}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            onClick={handleGenerate}\n            disabled={!file || !instructions.trim() || isGenerating}\n          >\n            {isGenerating ? (\n              <>\n                <IconSpinner />Generating...\n              </>\n            ) : (\n              <>\n                <IconWand />Generate Course\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACAA,OAAA;AAA4B,SAAAD,wBAAAG,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAL,uBAAA,YAAAA,CAAAG,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAkB,SAAA,WAAAA,QAAA,GAAAH,MAAA,CAAAI,MAAA,GAAAJ,MAAA,CAAAI,MAAA,CAAAC,IAAA,eAAAjB,CAAA,aAAAJ,CAAA,MAAAA,CAAA,GAAAsB,SAAA,CAAAC,MAAA,EAAAvB,CAAA,UAAAC,CAAA,GAAAqB,SAAA,CAAAtB,CAAA,YAAAG,CAAA,IAAAF,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAd,CAAA,EAAAE,CAAA,MAAAC,CAAA,CAAAD,CAAA,IAAAF,CAAA,CAAAE,CAAA,aAAAC,CAAA,KAAAe,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAE5B;AACA,MAAMG,SAAS,GAAGC,IAAA;EAAA,IAAC;IAAEC,IAAI,GAAG,EAAE;IAAE,GAAGC;EAAM,CAAC,GAAAF,IAAA;EAAA,oBACxC9B,MAAA,CAAAc,OAAA,CAAAmB,aAAA,QAAAV,QAAA;IAAKW,KAAK,EAAEH,IAAK;IAACI,MAAM,EAAEJ,IAAK;IAACK,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,cAAc;IAACC,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAAC,eAAY;EAAM,GAAKT,KAAK,gBAC/KhC,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMS,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC;EAAI,CAAO,CAAC,eAC3C7C,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMS,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC;EAAI,CAAO,CACvC,CAAC;AAAA,CACP;AACD,MAAMC,WAAW,GAAGC,KAAA;EAAA,IAAC;IAAEhB,IAAI,GAAG,EAAE;IAAE,GAAGC;EAAM,CAAC,GAAAe,KAAA;EAAA,oBAC1C/C,MAAA,CAAAc,OAAA,CAAAmB,aAAA,QAAAV,QAAA;IAAKyB,SAAS,EAAC,SAAS;IAACd,KAAK,EAAEH,IAAK;IAACI,MAAM,EAAEJ,IAAK;IAACK,OAAO,EAAC,WAAW;IAAC,eAAY,MAAM;IAACa,KAAK,EAAE;MAAEC,WAAW,EAAE;IAAE;EAAE,GAAKlB,KAAK,gBAC7HhC,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAQkB,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAAC7C,CAAC,EAAC,IAAI;IAAC+B,MAAM,EAAC,cAAc;IAACC,WAAW,EAAC,GAAG;IAACF,IAAI,EAAC,MAAM;IAACgB,OAAO,EAAC;EAAK,CAAE,CAAC,eACjGrD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC,0BAA0B;IAAChB,MAAM,EAAC,cAAc;IAACC,WAAW,EAAC,GAAG;IAACF,IAAI,EAAC;EAAM,CAAE,CACnF,CAAC;AAAA,CACP;AACD,MAAMkB,QAAQ,GAAGC,KAAA;EAAA,IAAC;IAAEzB,IAAI,GAAG,EAAE;IAAE,GAAGC;EAAM,CAAC,GAAAwB,KAAA;EAAA,oBACvCxD,MAAA,CAAAc,OAAA,CAAAmB,aAAA,QAAAV,QAAA;IAAKW,KAAK,EAAEH,IAAK;IAACI,MAAM,EAAEJ,IAAK;IAACK,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,cAAc;IAACC,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAAC,eAAY,MAAM;IAACQ,KAAK,EAAE;MAAEC,WAAW,EAAE,CAAC;MAAEO,aAAa,EAAE;IAAc;EAAE,GAAKzB,KAAK,gBACxOhC,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAA4D,CAAE,CAAC,eACvEtD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAAW,CAAE,CAClB,CAAC;AAAA,CACP;AACD,MAAMI,QAAQ,GAAGC,KAAA;EAAA,IAAC;IAAE5B,IAAI,GAAG,EAAE;IAAE,GAAGC;EAAM,CAAC,GAAA2B,KAAA;EAAA,oBACvC3D,MAAA,CAAAc,OAAA,CAAAmB,aAAA,QAAAV,QAAA;IAAKW,KAAK,EAAEH,IAAK;IAACI,MAAM,EAAEJ,IAAK;IAACK,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,cAAc;IAACC,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAAC,eAAY,MAAM;IAACQ,KAAK,EAAE;MAAEC,WAAW,EAAE;IAAE;EAAE,GAAKlB,KAAK,gBAC1MhC,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAAgB,CAAE,CAAC,eAC3BtD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAAW,CAAE,CAAC,eACtBtD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAAe,CAAE,CAAC,eAC1BtD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMqB,CAAC,EAAC;EAAY,CAAE,CACnB,CAAC;AAAA,CACP;;AAED;AACA;AACA;AACA;AACA;AACA;AACe,SAASM,qBAAqBA,CAAAC,KAAA,EAY1C;EAAA,IAZ2C;IAC5CC,MAAM,GAAG,KAAK;IACdC,OAAO,GAAGA,CAAA,KAAM,CAAC,CAAC;IAClBC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;IACpBC,OAAO,GAAGA,CAAA,KAAM,CAAC,CAAC;IAClBC,KAAK,GAAG,sBAAsB;IAC9BC,aAAa,GAAG,EAAE;IAClBC,QAAQ,GAAG,IAAI;IACfC,eAAe,GAAG,CAChB;MAAEC,EAAE,EAAE,QAAQ;MAAEC,IAAI,EAAE,sBAAsB;MAAEC,WAAW,EAAE;IAAuB,CAAC,EACnF;MAAEF,EAAE,EAAE,aAAa;MAAEC,IAAI,EAAE,aAAa;MAAEC,WAAW,EAAE;IAAuB,CAAC;EAEnF,CAAC,GAAAX,KAAA;EACC,MAAM;IAAEY,UAAU;IAAEC,mBAAmB;IAAEC,YAAY;IAAEC,SAAS;IAAEC,KAAK,EAAEC;EAAU,CAAC,GAAG,IAAAC,0BAAmB,EAAC,CAAC;EAC5G,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG,IAAAC,eAAQ,EAAC,IAAI,CAAC;EACtC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG,IAAAF,eAAQ,EAAC,EAAE,CAAC;EACpD,MAAM,CAACG,aAAa,EAAEC,gBAAgB,CAAC,GAAG,IAAAJ,eAAQ,EAACb,eAAe,CAAC,CAAC,CAAC,EAAEC,EAAE,IAAI,QAAQ,CAAC;EACtF,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAG,IAAAN,eAAQ,EAAC,KAAK,CAAC;EACvD,MAAM,CAACL,KAAK,EAAEY,QAAQ,CAAC,GAAG,IAAAP,eAAQ,EAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAT,eAAQ,EAAC,IAAI,CAAC;EAClD,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAX,eAAQ,EAAC,CAAC,CAAC;EACjD,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAG,IAAAb,eAAQ,EAAC,EAAE,CAAC;EAE9C,MAAMc,gBAAgB,GAAI5F,CAAC,IAAK;IAC9B,MAAM6F,YAAY,GAAG7F,CAAC,CAAC8F,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACtCV,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI,CAACQ,YAAY,EAAE;MACjBhB,OAAO,CAAC,IAAI,CAAC;MACb;IACF;;IAEA;IACA,IAAIgB,YAAY,CAACG,IAAI,KAAK,iBAAiB,EAAE;MAC3CX,QAAQ,CAAC,2BAA2B,CAAC;MACrCR,OAAO,CAAC,IAAI,CAAC;MACb;IACF;;IAEA;IACA,MAAMoB,UAAU,GAAGJ,YAAY,CAAClE,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC;IACpD,IAAIsE,UAAU,GAAGlC,aAAa,EAAE;MAC9BsB,QAAQ,CAAC,+BAA+BtB,aAAa,qBAAqBkC,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;MACpGrB,OAAO,CAAC,IAAI,CAAC;MACb;IACF;IAEAA,OAAO,CAACgB,YAAY,CAAC;EACvB,CAAC;;EAED;EACA,IAAAM,gBAAS,EAAC,MAAM;IACd,IAAI,CAACb,UAAU,EAAE;IAEjB,MAAMc,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACF,MAAMC,OAAO,GAAG,MAAM9B,YAAY,CAACe,UAAU,CAACpB,EAAE,CAAC;QACjDuB,cAAc,CAACY,OAAO,CAACC,gBAAgB,IAAI,CAAC,CAAC;QAC7CX,YAAY,CAACU,OAAO,CAACE,MAAM,CAAC;QAE5B,IAAIF,OAAO,CAACE,MAAM,KAAK,WAAW,EAAE;UAClChB,aAAa,CAAC,IAAI,CAAC;UACnBH,eAAe,CAAC,KAAK,CAAC;UACtBxB,SAAS,CAACyC,OAAO,CAAC;UAClBG,WAAW,CAAC,CAAC;QACf,CAAC,MAAM,IAAIH,OAAO,CAACE,MAAM,KAAK,QAAQ,EAAE;UACtChB,aAAa,CAAC,IAAI,CAAC;UACnBH,eAAe,CAAC,KAAK,CAAC;UACtBC,QAAQ,CAACgB,OAAO,CAACI,aAAa,IAAI,0BAA0B,CAAC;UAC7D5C,OAAO,CAAC,IAAI6C,KAAK,CAACL,OAAO,CAACI,aAAa,CAAC,CAAC;QAC3C;MACF,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACnC,KAAK,CAAC,oBAAoB,EAAEkC,GAAG,CAAC;MAC1C;IACF,CAAC;IAED,MAAME,QAAQ,GAAGC,WAAW,CAACV,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;IAC7C,OAAO,MAAMW,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACvB,UAAU,EAAEf,YAAY,EAAEX,SAAS,EAAEC,OAAO,CAAC,CAAC;EAElD,MAAMmD,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAACpC,IAAI,IAAI,CAACG,YAAY,CAACkC,IAAI,CAAC,CAAC,EAAE;MACjC5B,QAAQ,CAAC,oDAAoD,CAAC;MAC9D;IACF;IAEA,IAAI,CAACrB,QAAQ,EAAE;MACbqB,QAAQ,CAAC,+CAA+C,CAAC;MACzD;IACF;IAEAD,eAAe,CAAC,IAAI,CAAC;IACrBC,QAAQ,CAAC,EAAE,CAAC;IACZI,cAAc,CAAC,CAAC,CAAC;IACjBE,YAAY,CAAC,UAAU,CAAC;IAExB,IAAI;MACF;MACA,MAAMuB,YAAY,GAAG,MAAM7C,UAAU,CAACO,IAAI,CAAC;;MAE3C;MACA,MAAMyB,OAAO,GAAG,MAAM/B,mBAAmB,CAAC;QACxC6C,SAAS,EAAEnD,QAAQ;QACnBoD,QAAQ,EAAE,mBAAmB;QAC7BrC,YAAY,EAAEA,YAAY,CAACkC,IAAI,CAAC,CAAC;QACjCI,QAAQ,EAAEH,YAAY,CAACI,OAAO;QAC9BC,YAAY,EAAE;UACZC,KAAK,EAAEvC,aAAa;UACpBwC,QAAQ,EAAE;QACZ;MACF,CAAC,CAAC;MAEFlC,aAAa,CAACc,OAAO,CAAC;MACtBV,YAAY,CAAC,YAAY,CAAC;IAC5B,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACZtB,QAAQ,CAACsB,GAAG,CAACe,OAAO,IAAI,sDAAsD,CAAC;MAC/EtC,eAAe,CAAC,KAAK,CAAC;MACtBvB,OAAO,CAAC8C,GAAG,CAAC;IACd;EACF,CAAC;EAED,MAAMH,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAACrB,YAAY,EAAE;MACjBN,OAAO,CAAC,IAAI,CAAC;MACbG,eAAe,CAAC,EAAE,CAAC;MACnBK,QAAQ,CAAC,EAAE,CAAC;MACZ1B,OAAO,CAAC,CAAC;IACX;EACF,CAAC;EAED,IAAI,CAACD,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,oBACE9D,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAiC,gBAC9ChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAyB,gBACtChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAgC,gBAC7ChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAIe,SAAS,EAAC;EAA+B,GAAEkB,KAAU,CAAC,eAC1DlE,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEmE,IAAI,EAAC,QAAQ;IACbpD,SAAS,EAAC,+BAA+B;IACzC+E,OAAO,EAAEnB,WAAY;IACrBoB,QAAQ,EAAEzC,YAAa;IACvB,cAAW;EAAa,gBAExBvF,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAACJ,SAAS,MAAE,CACN,CACL,CAAC,eAEN7B,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAA8B,gBAC3ChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAGe,SAAS,EAAC;EAAqC,GAAC,mGAEhD,CAAC,EAEH6B,KAAK,iBACJ7E,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAA+B,GAC3C6B,KACE,CACN,eAED7E,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAwB,gBACrChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAY,gBACzBhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAOgG,OAAO,EAAC,YAAY;IAACjF,SAAS,EAAC;EAAY,GAAC,oBAC/B,EAACmB,aAAa,EAAC,MAC5B,CAAC,eACRnE,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEqC,EAAE,EAAC,YAAY;IACf8B,IAAI,EAAC,MAAM;IACXpD,SAAS,EAAC,cAAc;IACxBkF,MAAM,EAAC,MAAM;IACbC,QAAQ,EAAEnC,gBAAiB;IAC3BgC,QAAQ,EAAEzC;EAAa,CACxB,CAAC,EACDP,IAAI,iBACHhF,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAW,gBACxBhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMe,SAAS,EAAC;EAAW,gBAAChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAACsB,QAAQ,MAAE,CAAC,EAACyB,IAAI,CAACT,IAAW,CAAC,eAC1DvE,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAMe,SAAS,EAAC;EAAW,GAAC,GAAC,EAAC,CAACgC,IAAI,CAACjD,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEuE,OAAO,CAAC,CAAC,CAAC,EAAC,KAAS,CAC3E,CAEJ,CAAC,eAENtG,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAY,gBACzBhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAOgG,OAAO,EAAC,cAAc;IAACjF,SAAS,EAAC;EAAY,GAAC,WAE9C,CAAC,eACRhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEqC,EAAE,EAAC,cAAc;IACjBtB,SAAS,EAAC,cAAc;IACxBoF,KAAK,EAAE/C,aAAc;IACrB8C,QAAQ,EAAG/H,CAAC,IAAKkF,gBAAgB,CAAClF,CAAC,CAAC8F,MAAM,CAACkC,KAAK,CAAE;IAClDJ,QAAQ,EAAEzC;EAAa,GAEtBlB,eAAe,CAACgE,GAAG,CAACT,KAAK,iBACxB5H,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAQqG,GAAG,EAAEV,KAAK,CAACtD,EAAG;IAAC8D,KAAK,EAAER,KAAK,CAACtD;EAAG,GACpCsD,KAAK,CAACrD,IAAI,EAAC,KAAG,EAACqD,KAAK,CAACpD,WAChB,CACT,CACK,CACL,CAAC,eAENxE,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAY,gBACzBhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAOgG,OAAO,EAAC,cAAc;IAACjF,SAAS,EAAC;EAAY,GAAC,0BAE9C,CAAC,eACRhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEqC,EAAE,EAAC,cAAc;IACjBtB,SAAS,EAAC,cAAc;IACxBuF,IAAI,EAAC,GAAG;IACRH,KAAK,EAAEjD,YAAa;IACpBgD,QAAQ,EAAG/H,CAAC,IAAKgF,eAAe,CAAChF,CAAC,CAAC8F,MAAM,CAACkC,KAAK,CAAE;IACjDI,WAAW,EAAC,mPAAmP;IAC/PR,QAAQ,EAAEzC,YAAa;IACvBkD,SAAS,EAAE;EAAK,CACjB,CAAC,eACFzI,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAiB,GAC7BmC,YAAY,CAACxD,MAAM,EAAC,kBAClB,CACF,CAAC,EAEL4D,YAAY,IAAIG,UAAU,iBACzB1F,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAY,gBACzBhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAOe,SAAS,EAAC;EAAY,GAAC,sBAA2B,CAAC,eAC1DhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAoB,gBACjChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAc,gBAC3BhD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEe,SAAS,EAAC,eAAe;IACzBC,KAAK,EAAE;MAAEf,KAAK,EAAE,GAAG0D,WAAW;IAAI;EAAE,CAChC,CACH,CAAC,eACN5F,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAe,GAC3B4C,WAAW,EAAC,MAAI,EAACE,SACf,CACF,CACF,CAEJ,CACF,CAAC,eAEN9F,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IAAKe,SAAS,EAAC;EAAgC,gBAC7ChD,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEmE,IAAI,EAAC,QAAQ;IACbpD,SAAS,EAAC,mBAAmB;IAC7B+E,OAAO,EAAEnB,WAAY;IACrBoB,QAAQ,EAAEzC;EAAa,GACxB,QAEO,CAAC,eACTvF,MAAA,CAAAc,OAAA,CAAAmB,aAAA;IACEmE,IAAI,EAAC,QAAQ;IACbpD,SAAS,EAAC,iBAAiB;IAC3B+E,OAAO,EAAEX,cAAe;IACxBY,QAAQ,EAAE,CAAChD,IAAI,IAAI,CAACG,YAAY,CAACkC,IAAI,CAAC,CAAC,IAAI9B;EAAa,GAEvDA,YAAY,gBACXvF,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAAAjC,MAAA,CAAAc,OAAA,CAAA4H,QAAA,qBACE1I,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAACa,WAAW,MAAE,CAAC,iBACf,CAAC,gBAEH9C,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAAAjC,MAAA,CAAAc,OAAA,CAAA4H,QAAA,qBACE1I,MAAA,CAAAc,OAAA,CAAAmB,aAAA,CAACyB,QAAQ,MAAE,CAAC,mBACZ,CAEE,CACL,CACF,CACF,CAAC;AAEV","ignoreList":[]}